import{d as p,B as w,h as f,n as k,q as t,p as e,Q as T,m as l,l as d,t as n,u as Q,r as g,a as I,T as v,j as s,i as B}from"./index.7dabd086.js";import{Q as V}from"./QInput.61aa81b9.js";import{Q as C}from"./QTable.ad356e36.js";import{a as o,Q as S}from"./QTr.17b52ebd.js";import{_ as U}from"./lodash.c8cf5bd0.js";import"./QMarkupTable.268de3e8.js";import"./QCheckbox.59fa3f0d.js";const L=p({__name:"ItemRow",props:{data:{type:Object,required:!0}},setup(u){const r=u,i=U.capitalize,{data:a}=w(r);return(q,_)=>(f(),k(S,null,{default:t(()=>[e(o,{key:"icon"},{default:t(()=>[e(T,{src:l(a).row.iconUrl,width:"35px",height:"35px"},null,8,["src"])]),_:1}),e(o,{key:"name"},{default:t(()=>[d(n(l(a).row.name),1)]),_:1}),e(o,{key:"inventoryType"},{default:t(()=>[d(n(l(i)(l(a).row.inventoryType)),1)]),_:1}),e(o,{key:"quality"},{default:t(()=>[d(n(l(i)(l(a).row.quality)),1)]),_:1}),e(o,{key:"requiredLevel"},{default:t(()=>[d(n(l(a).row.requiredLevel),1)]),_:1}),e(o,{key:"count",class:"text-right"},{default:t(()=>[d(n(l(a).row.usersCount),1)]),_:1})]),_:1}))}}),$={class:"full-width row flex-center text-accent q-gutter-sm"},j=p({__name:"ItemsTable",props:{items:{type:Array,required:!0}},setup(u){const r=u,i=[{name:"icon",headerStyle:"width: 0px",align:"left",label:"",field:"iconUrl",sortable:!1},{name:"name",align:"left",label:"Item",field:"name",sortable:!0},{name:"inventoryType",align:"left",label:"Slot",field:"inventoryType",sortable:!0},{name:"quality",align:"left",label:"Quality",field:"quality",sortable:!0},{name:"requiredLevel",align:"left",label:"Required level",field:"requiredLevel",sortable:!0},{name:"count",align:"right",label:"Users",field:"usersCount",sortable:!0}],a={sortBy:"usersCount",descending:!0,rowsPerPage:20},_=Q().state.data,m=g("");var y=g([]);return I.get(`${_.apiUrl}/items`).then(h=>{y.value=h.data}),w(r),(h,b)=>(f(),k(C,{dark:"",rows:l(y),columns:i,pagination:a,filter:m.value,"no-data-label":"I didn't find anything for you","no-results-label":"The filter didn't uncover any results"},{body:t(c=>[e(L,{data:c},null,8,["data"])]),"top-right":t(()=>[e(V,{dark:"",dense:"",filled:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=c=>m.value=c),placeholder:"Search"},{append:t(()=>[e(v,{name:"search"})]),_:1},8,["modelValue"])]),"no-data":t(({icon:c,message:x})=>[s("div",$,[e(v,{size:"2em",name:"sentiment_dissatisfied"}),s("span",null," Well this is sad... "+n(x),1)])]),_:1},8,["rows","filter"]))}}),z=s("h2",null,"Items usage",-1),N=s("div",null,"(Data is not limited to keystone runs)",-1),R=s("div",null,"(We also just fetch details on lookup, so data is a bit outdated )",-1),D=s("div",null,"(This will be changed later to fetch on keystone done)",-1),P=s("br",null,null,-1),J=p({__name:"items",setup(u){const r=[];return(i,a)=>(f(),B("div",null,[z,N,R,D,P,e(j,{items:r})]))}});export{J as default};
