import{d as x,u as T,c as g,B as Q,h as v,n as I,q as s,p as e,Q as w,k as t,m as i,t as d,j as n,af as y,ae as $,r as C,T as k,a as B,i as S}from"./index.d11fe415.js";import{Q as V}from"./QInput.a9805111.js";import{Q as U}from"./QTable.4edb768e.js";import{a as c,Q as q}from"./QTr.a8711b58.js";import{_ as j}from"./lodash.361465c0.js";import"./QMarkupTable.d0e5140e.js";import"./QCheckbox.383fd197.js";const z={class:"flex align-content-center gap-5"},D={class:"flex align-content-center gap-5"},N=x({__name:"TalentRow",props:{data:{type:Object,required:!0}},setup(p){const f=p,r=j.capitalize,a=T().state.data,_=g(()=>a.Classes),b=g(()=>_.value.find(h=>h.id===o.value.row.classId)),m=g(()=>a.Specs),l=g(()=>m.value.find(h=>h.id===o.value.row.specId)),{data:o}=Q(f);return(h,G)=>(v(),I(q,null,{default:s(()=>[e(c,{key:"icon"},{default:s(()=>[e(w,{src:t(o).row.iconUrl,width:"35px",height:"35px"},null,8,["src"])]),_:1}),e(c,{key:"name"},{default:s(()=>[i(d(t(o).row.name),1)]),_:1}),e(c,{key:"spec"},{default:s(()=>[n("div",z,[e(w,{src:t(l).icon_url,width:"30px",height:"30px"},null,8,["src"]),e(y,{spec:t(l).id},{default:s(()=>[i(d(t(r)(t(l).name)),1)]),_:1},8,["spec"])])]),_:1}),e(c,{key:"class"},{default:s(()=>[n("div",D,[e(w,{src:t(b).icon_url,width:"30px",height:"30px"},null,8,["src"]),e(y,{spec:t(l).id},{default:s(()=>[i(d(t(r)(t(b).name)),1)]),_:1},8,["spec"])])]),_:1}),e(c,{key:"description"},{default:s(()=>[i(" hover me "),e($,null,{default:s(()=>[i(d(t(o).row.description),1)]),_:1})]),_:1}),e(c,{key:"count",class:"text-right"},{default:s(()=>[i(d(t(o).row.usersCount),1)]),_:1})]),_:1}))}}),P={class:"full-width row flex-center text-accent q-gutter-sm"},R=x({__name:"TalentTable",props:{items:{type:Array,required:!0}},setup(p){const f=p,r=[{name:"icon",headerStyle:"width: 0px",align:"left",label:"",field:"iconUrl",sortable:!1},{name:"name",align:"left",label:"Item",field:"name",sortable:!0},{name:"spec",align:"left",label:"Spec",field:"specId",sortable:!0},{name:"class",align:"left",label:"Class",field:"classId",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!1},{name:"count",align:"right",label:"Users",field:"usersCount",sortable:!0}],u={sortBy:"usersCount",descending:!0,rowsPerPage:20},a=C(""),{items:_}=Q(f);return(b,m)=>(v(),I(U,{dark:"",rows:t(_),columns:r,pagination:u,filter:a.value,"no-data-label":"I didn't find anything for you","no-results-label":"The filter didn't uncover any results"},{body:s(l=>[e(N,{data:l},null,8,["data"])]),"top-right":s(()=>[e(V,{dark:"",dense:"",filled:"",debounce:"300",modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=l=>a.value=l),placeholder:"Search"},{append:s(()=>[e(k,{name:"search"})]),_:1},8,["modelValue"])]),"no-data":s(({icon:l,message:o})=>[n("div",P,[e(k,{size:"2em",name:"sentiment_dissatisfied"}),n("span",null," Well this is sad... "+d(o),1)])]),_:1},8,["rows","filter"]))}}),W=n("h2",null,"Talent usage",-1),A=n("div",null,"(Data is not limited to keystone runs)",-1),E=n("div",null,"(We also just fetch details on lookup, so data is a bit outdated )",-1),O=n("div",null,"(This will be changed later to fetch on keystone done)",-1),F=n("br",null,null,-1),Z=x({__name:"talents",setup(p){const r=T().state.data;var u=C([]);return B.get(`${r.apiUrl}/talents`).then(a=>{u.value=a.data}),(a,_)=>(v(),S("div",null,[W,A,E,O,F,e(R,{items:t(u)},null,8,["items"])]))}});export{Z as default};
