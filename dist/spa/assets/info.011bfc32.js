import{_ as g,O as k,S as te,h as l,i as u,n as U,q as $,l as K,ae as Y,z as D,j as e,t as m,d as J,r as T,u as X,c as x,f as se,p as _,az as oe,F as z,C as I,M as ae,v as G,x as R,L as Z,g as j,Q as ee,w as B,a as re,aA as ne,m as A,aB as O,ab as le,aC as E,A as W,y as N,k as q}from"./index.326ea565.js";import{Q as ie}from"./QMarkupTable.533909ff.js";import{a as ce}from"./index.56a95922.js";import{_ as de}from"./lodash.ab04621b.js";import{Q as ue,a as _e,b as he,c as fe}from"./QTabPanels.addca843.js";import"./use-cache.b0833c75.js";const ve={data(){return{Hours:"00",Mins:"00",Secs:"00",MSecs:"00"}},methods:{UpdateTimer(){var t=this;if(this.countdown){var n=k(new Date),o=k(te.TimeToRefresh(this.date).date),a=k.duration(n.diff(o)).add(-1,"s");t.Hours=String(a.hours()).replace("-",""),t.Mins=String(a.minutes()).replace("-",""),t.Secs=String(a.seconds()).replace("-",""),t.MSecs=String(a.milliseconds()).replace("-","")}else if(t.countup){var o=k(new Date),n=k(this.date),a=k.duration(n.diff(o));t.Hours=String(a.hours()).replace("-",""),t.Mins=String(a.minutes()).replace("-",""),t.Secs=String(a.seconds()).replace("-",""),t.MSecs=String(a.milliseconds()).replace("-","")}else t.Hours=new k(this.date).hour(),t.Mins=new k(this.date).minute(),t.Secs=new k(this.date).second(),t.MSecs=new k(this.date).millisecond();t.Hours.length<=1&&(t.Hours="0"+t.Hours),t.Mins.length<=1&&(t.Mins="0"+t.Mins),t.Secs.length<=1&&(t.Secs="0"+t.Secs),setTimeout(function(){t.UpdateTimer()},1e3)}},props:["date","countdown","countup"],created(){this.UpdateTimer()}},pe={id:"UpdateTimer",class:"HeaderFont absolute-center"},me={class:"flex justify-around HeaderSize4"},xe={class:"nummberBox flex flex-center"},Se={class:"nummberBox flex flex-center"},be={class:"nummberBox flex flex-center"},$e=e("div",{class:"HeaderSize2 flex justify-around"},[e("div",{class:"flex flex-center"}," Hour "),e("div",{class:"flex flex-center"}," Min "),e("div",{class:"flex flex-center"}," Sec ")],-1);function ge(t,n,o,a,c,h){return l(),u("div",pe,[o.countdown&&!o.countup?(l(),U(Y,{key:0},{default:$(()=>[K(" If this number is counting upwards your browser is probably using a cached version. Try again in 15 min, or just click Shift-F5 to refresh without cache. ")]),_:1})):D("",!0),e("div",null,[e("div",me,[e("div",xe,m(c.Hours),1),e("div",Se,m(c.Mins),1),e("div",be,m(c.Secs),1)]),$e])])}var ye=g(ve,[["render",ge]]);const L=t=>(G("data-v-0cab939e"),t=t(),R(),t),ke={key:0,class:""},we=L(()=>e("p",{class:"HeaderSize3"},"Affix Schedule",-1)),Ce={class:"ScheduleBox shadow-15"},je={key:0,class:"text-left"},Fe=L(()=>e("th",{class:"text-center"},"Affix 1",-1)),Ae=L(()=>e("th",{class:"text-center"},"Affix 2",-1)),Te=L(()=>e("th",{class:"text-center"},"Affix 3",-1)),De=L(()=>e("th",{class:"text-center"},"Affix 4",-1)),Ve={key:0,class:"text-left"},He=J({__name:"AffixSchedule",setup(t){const n=T(1080),o=X(),a=o.state.data,c=()=>o.dispatch("fetchAffixSchedule"),h=i=>{if(!s.value)return"";if(i===s.value)return"Ongoing";if(i.order==s.value.order-1||s.value.order==1&&i.order===y.value.length)return"Last week";if(i.order==s.value.order+1||s.value.order==y.value.length&&i.order===1)return"Next week";if(i.order>s.value.order)return`In ${i.order-s.value.order} weeks`;if(i.order<s.value.order)return`${s.value.order-i.order} weeks ago`},w=i=>n.value=i.width;x(()=>a.RIOData),x(()=>a.Affixes);const v=x(()=>a.AffixSchedule),S=x(()=>a.Periodes),s=x(()=>{var b;for(const r of y.value){var i=de.isEqual((b=V.value)==null?void 0:b.affixes,[r.affix_1,r.affix_2,r.affix_3,r.affix_4]);if(i)return r}}),y=x(()=>v.value),V=x(()=>{if(S.value)return S.value[0]});return se(()=>{v.value||c()}),(i,b)=>y.value?(l(),u("div",ke,[we,e("div",Ce,[_(oe,{onResize:w}),_(ie,{dark:""},{default:$(()=>[e("thead",null,[e("tr",null,[n.value>450?(l(),u("th",je,"When")):D("",!0),Fe,Ae,Te,De])]),e("tbody",null,[(l(!0),u(z,null,I(y.value,r=>(l(),u("tr",{key:r.id,class:ae(`${r==s.value&&"bg-green-9"}`)},[n.value>450?(l(),u("td",Ve,m(h(r)),1)):D("",!0),(l(!0),u(z,null,I([r.affix_1,r.affix_2,r.affix_3,r.affix_4],d=>(l(),u("td",{key:d},[_(ce,{minWidth:"60px",class:"affix",tooltip:"true",border:"true",label:n.value>700,affixid:d},null,8,["label","affixid"])]))),128))],2))),128))])]),_:1})])])):D("",!0)}});var Me=g(He,[["__scopeId","data-v-0cab939e"]]);const Pe={props:["discord"],components:{CloudinaryFormat:Z},data(){return{classDiscord:!1}},methods:{getUrl(t){return t.startsWith("/")?`${this.baseUrl}${t}`:t}},computed:{baseUrl(){return document.location.origin},title(){if(this.discord.title)return this.discord.title.includes("[Class discord]")&&(this.classDiscord=!0),this.discord.title.replace("[Class discord]","")}}},Ue={class:"DiscordCard shadow-18 col-grow"},ze=["href"],Ie={class:"float-left"},Le={class:"text-left"},Qe={class:"Description"};function Be(t,n,o,a,c,h){const w=j("CloudinaryFormat");return l(),u("div",Ue,[e("a",{href:o.discord.url,class:"HeaderFont"},[e("div",null,[e("div",Ie,[_(w,{url:o.discord.logoUrl.replaceAll("/statics/","/"),size:"80"},{default:$(({link:v})=>[_(ee,{src:v,class:"logoImg"},null,8,["src"])]),_:1},8,["url"])]),e("div",Le,[e("div",null,m(h.title),1),e("div",Qe,m(o.discord.description),1)])])],8,ze)])}var Oe=g(Pe,[["render",Be]]);const Q=t=>(G("data-v-38ceb454"),t=t(),R(),t),Ge={key:0,class:"HeaderFont ScoreChecker"},Re=Q(()=>e("div",{class:"text-red text-h5"},"This uses the old score system",-1)),We={class:"row"},Ne={class:"col-6"},qe={class:"col-6"},Ee={class:"maxSelection"},Ke=Q(()=>e("div",null,"Keystone level",-1)),Ye=Q(()=>e("br",null,null,-1)),Je=Q(()=>e("div",null,"Duration",-1)),Xe={class:"durationSelector"},Ze=Q(()=>e("br",null,null,-1)),et={class:"HeaderSize3"},tt=J({__name:"scoreChecker",setup(t){let n=T(null),o=T(10),a=T(10),c=T(0),h=T(null);const v=X().state.data,S=x(()=>{var r,d;if(s!=null&&s.value)for(let f=0;f<((r=s==null?void 0:s.value)==null?void 0:r.length);f++){const p=(d=s==null?void 0:s.value)==null?void 0:d[f];if((p==null?void 0:p.keystone_id)==n.value.value)return p}}),s=x(()=>v.Dungeons);B(s,()=>{var d;const r=(d=s==null?void 0:s.value)==null?void 0:d[0];n.value={label:r.name,value:r.keystone_id}}),B(n,(r,d)=>{var f;a.value=(f=S.value)==null?void 0:f.time}),B(a,()=>{y()}),B(o,()=>{y()});const y=()=>{var r=v.apiUrl,d=setTimeout(function(){var f;h.value==d&&re.get(r+"/Score?duration="+(a.value-1)+"&keystone_level="+o.value+"&dungeon_time="+((f=S.value)==null?void 0:f.time)).then(function(p){c.value=Math.round(p.data*100)/100}).catch(function(p){console.log(p),c.value=0})},100);h.value=d},V=x(()=>ne.duration(a.value).format("mm:ss")),i=x(()=>{var r;return Math.round(a.value/((r=S.value)==null?void 0:r.time)*100)}),b=x(()=>{var f,p,H,M;var r=[];if(s!=null&&s.value)for(let F=0;F<((p=(f=s==null?void 0:s.value)==null?void 0:f.length)!=null?p:0);F++){const P=(H=s==null?void 0:s.value)==null?void 0:H[F];var d={label:P.name,value:P.keystone_id};r.push(d)}return n.value||(n.value=r[0],a.value=(M=S.value)==null?void 0:M.time),r});return(r,d)=>{var f,p,H,M,F,P;return s.value?(l(),u("div",Ge,[Re,e("div",We,[e("div",Ne,[_(le,{class:"maxSelection",label:"Dungeon",dark:"",modelValue:A(n),"onUpdate:modelValue":d[0]||(d[0]=C=>O(n)?n.value=C:n=C),"display-value":`${(p=(f=A(n))==null?void 0:f.label)!=null?p:"None selected"}`,options:b.value},null,8,["modelValue","display-value","options"])]),e("div",qe,[e("div",Ee,[Ke,e("div",null,m(A(o)),1),_(E,{modelValue:A(o),"onUpdate:modelValue":d[1]||(d[1]=C=>O(o)?o.value=C:o=C),min:2,max:35,step:1,color:"orange",snap:""},null,8,["modelValue"])])])]),Ye,Je,e("div",null,m(V.value)+" ("+m(i.value)+"%)",1),e("div",Xe,[_(E,{modelValue:A(a),"onUpdate:modelValue":d[2]||(d[2]=C=>O(a)?a.value=C:a=C),min:Math.round(((M=(H=S.value)==null?void 0:H.time)!=null?M:0)*.4),max:Math.round(((P=(F=S.value)==null?void 0:F.time)!=null?P:0)*2),step:1e3,color:"orange",snap:""},null,8,["modelValue","min","max"])]),Ze,e("div",et,[e("div",null,"Score: "+m(A(c)),1)])])):D("",!0)}}});var st=g(tt,[["__scopeId","data-v-38ceb454"]]);const ot={data(){return{tab:"tab-1"}},components:{scoreChecker:st}},at=t=>(G("data-v-01840fbe"),t=t(),R(),t),rt=at(()=>e("div",{class:"HeaderSize3"},"Tools",-1)),nt={id:"ToolsTabs"};function lt(t,n,o,a,c,h){const w=j("scoreChecker");return l(),u("div",null,[rt,_(_e,{modelValue:c.tab,"onUpdate:modelValue":n[0]||(n[0]=v=>c.tab=v),animated:"",swipeable:"",color:"3a3a3a",align:"justify"},{default:$(()=>[_(ue,{default:"",label:"Score checker",name:"tab-1"})]),_:1},8,["modelValue"]),e("div",nt,[_(fe,{modelValue:c.tab,"onUpdate:modelValue":n[1]||(n[1]=v=>c.tab=v),class:"transperant",animated:""},{default:$(()=>[_(he,{name:"tab-1"},{default:$(()=>[_(w,{class:"tab"})]),_:1})]),_:1},8,["modelValue"])])])}var it=g(ot,[["render",lt],["__scopeId","data-v-01840fbe"]]);const ct={};function dt(t,n,o,a,c,h){return l(),u("div")}var ut=g(ct,[["render",dt]]);const _t={props:["project"]},ht={class:"projectCard shadow-18 col-grow"},ft={class:"HeaderSize4"},vt=["href"];function pt(t,n,o,a,c,h){return l(),u("div",ht,[e("div",null,[e("div",ft,m(o.project.title),1),e("div",null,m(o.project.description),1)]),e("div",null,[e("a",{href:o.project.image_link},[_(ee,{"spinner-size":"10px",src:o.project.image_url,class:"imageSize"},{default:$(()=>[o.project.image_tooltip?(l(),U(Y,{key:0},{default:$(()=>[K(m(o.project.image_tooltip),1)]),_:1})):D("",!0)]),_:1},8,["src"])],8,vt)])])}var mt=g(_t,[["render",pt],["__scopeId","data-v-cfc68334"]]);const xt={methods:{...W(["fetchDiscordLinks"]),FetchData(){this.GetDiscordLinks||this.fetchDiscordLinks()}},computed:{...N(["GetDiscordLinks"]),data(){if(this.GetDiscordLinks)return this.GetDiscordLinks}},watch:{SelectedPeriode(){this.FetchData()}},created(){this.FetchData()}};function St(t,n,o,a,c,h){return l(),u("div",null,[q(t.$slots,"default",{data:h.data})])}var bt=g(xt,[["render",St]]);const $t={methods:{...W(["fetchAffixSchedule"]),FetchData(){(!this.GetAffixSchedule||this.GetAffixSchedule&&this.GetAffixSchedule.length!==0)&&this.fetchAffixSchedule()}},computed:{...N(["GetAffixSchedule"]),data(){if(this.GetAffixSchedule)return this.GetAffixSchedule}},watch:{SelectedPeriode(){this.FetchData()}},created(){this.FetchData()}};function gt(t,n,o,a,c,h){return l(),u("div",null,[q(t.$slots,"default",{data:h.data})])}var yt=g($t,[["render",gt]]);const kt={methods:{...W(["fetchCreatorsProjects"]),FetchData(){this.GetCreatorsProjects||this.fetchCreatorsProjects()}},computed:{...N(["GetCreatorsProjects"]),data(){if(this.GetCreatorsProjects)return this.GetCreatorsProjects}},watch:{SelectedPeriode(){this.FetchData()}},created(){this.FetchData()}};function wt(t,n,o,a,c,h){return l(),u("div",null,[q(t.$slots,"default",{data:h.data})])}var Ct=g(kt,[["render",wt]]);const jt={data(){return{sites:[{title:"Subcreations",url:"https://mplus.subcreation.net",logoUrl:"https://mplus.subcreation.net/images/affixes/tormented.jpg",description:"A great site that provide some other stats regarding m+"},{title:"WowValor",url:"https://wowvalor.app/en/",logoUrl:"https://res.cloudinary.com/djpcbbeqx/image/upload/v1666209685/knohxoxsmidxy9hwaxsh.png",description:"Another statistics webpage, focused on specs. Displayed in a very nice readable way."}]}},computed:{RIOData(){return this.GetRIOData}},components:{CloudinaryFormat:Z,DataUpdaterView:ye,AffixSchedule:Me,CreatorsProjects:mt,DiscordLink:Oe,Tools:it,renameMonitor:ut,DiscordLinksFetcher:bt,AffixScheduleFetcher:yt,CreatorsProjectsFetcher:Ct}},Ft={class:"flex-center Centertext HeaderFont"},At={class:""},Tt=e("br",null,null,-1),Dt=e("br",null,null,-1),Vt=e("br",null,null,-1),Ht=e("br",null,null,-1),Mt=e("div",{class:"HeaderSize3"},"Useful Discords",-1),Pt=e("br",null,null,-1),Ut=e("br",null,null,-1),zt=e("div",{class:"HeaderSize3"},"Other useful wow sites",-1),It={class:"flex justify-content-around"},Lt=e("br",null,null,-1),Qt=e("br",null,null,-1),Bt=e("div",{class:"HeaderSize3"},"Other projects",-1),Ot=e("br",null,null,-1),Gt=e("br",null,null,-1),Rt=e("p",{class:"HeaderSize3"},"So how does it work?",-1),Wt=e("p",null,'Every 30 minutes it runs a program on the bestkeystone server. This program downloads all the top 500 keystone runs per connected realm. It then checks which runs are not in the database and then adds the new ones. It will then update some reports such as "Team compositions". These data reports take a bit of time to generate and can not be changed on demand. The rest of the data is quick to generate reports for. So it is possible to change the settings with the help of the setting wheel in the top right of the page.',-1),Nt=e("br",null,null,-1),qt=["src"],Et=e("br",null,null,-1),Kt=e("br",null,null,-1),Yt=e("div",null,"Got any great feature ideas, or found a bug you want to report?",-1),Jt=e("div",null,"You can reach the creator on discord tag SindreMA#9630 or sindrema@gmail.com, or connect to our discord",-1);function Xt(t,n,o,a,c,h){const w=j("Tools"),v=j("DiscordLink"),S=j("DiscordLinksFetcher"),s=j("CreatorsProjects"),y=j("CreatorsProjectsFetcher"),V=j("CloudinaryFormat");return l(),u("div",null,[e("div",Ft,[e("div",At,[Tt,Dt,_(w),Vt,Ht,Mt,_(S,{class:"flex justify-center"},{default:$(({data:i})=>[(l(!0),u(z,null,I(i,(b,r)=>(l(),U(v,{discord:b,key:r},null,8,["discord"]))),128))]),_:1}),Pt,Ut,zt,e("div",It,[(l(!0),u(z,null,I(c.sites,(i,b)=>(l(),U(v,{discord:i,key:b},null,8,["discord"]))),128))]),Lt,Qt,Bt,_(y,{class:"flex justify-around"},{default:$(({data:i})=>[(l(!0),u(z,null,I(i,(b,r)=>(l(),U(s,{project:b,key:r},null,8,["project"]))),128))]),_:1}),Ot,Gt,Rt,Wt,Nt,_(V,{url:"info/keystonecollector.gif"},{default:$(({link:i})=>[e("video",{style:{width:"70%"},src:i,loop:"",autoplay:""},null,8,qt)]),_:1})]),Et,Kt,Yt,Jt])])}var rs=g(jt,[["render",Xt]]);export{rs as default};
