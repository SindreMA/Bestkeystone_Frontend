import{C as T,_ as V}from"./ClassTableView.829eb137.js";import{d as k,r as v,u as $,c as f,o as H,a as N,w as z,h as n,i,j as e,F as D,C as G,p as r,q as y,l as R,t as p,ae as j,N as q,L as I,z as M,e as P,S as Q,n as U,m as b}from"./index.cb6acba7.js";import{a as A}from"./AffixSelector.bfd85ff5.js";import"./QTr.29a2f077.js";import"./QTable.1aa9aac0.js";import"./QMarkupTable.b58c0bea.js";import"./QCheckbox.c4ce5bfe.js";const E={key:0,class:"HeaderFont text-center"},W=e("h2",null,"Success rate",-1),J={class:"flex flex-center"},K={class:"percentBackground absolute-center"},O={class:"text-center",style:{margin:"auto"}},X=k({__name:"ClassInTimeRateList",setup(F){const o=v(null),s=v(!1),u=v(!1),l=$().state.data,c=f(()=>l.SelectedPeriode),m=f(()=>l.Classes),d=f(()=>l.settings);H(()=>{c.value&&x()});const x=()=>{s.value=!0;var _=l.apiUrl;N.get(_+"/Class/ontimerate?periode="+c.value+"&min_level="+d.value.min_keystonelevel+"&amount="+d.value.max_runs+"&limitToLowestDungeon="+d.value.limitbylowestdungeon).then(function(t){o.value=t.data,s.value=!1}).catch(function(t){console.log(t),t.value=!0,s.value=!1})},S=_=>{for(let t=0;t<m.value.length;t++){const a=m.value[t];if(a.id==_)return a}};return z(c,()=>{o.value=null,u.value=!1,x()}),(_,t)=>o.value?(n(),i("div",E,[W,e("div",J,[(n(!0),i(D,null,G(o.value,(a,B)=>{var g,C,w;return n(),i("div",{class:"flex flex-between ListCSS",key:B},[r(j,null,{default:y(()=>[R(" Runs: "+p(a.total_runs),1)]),_:2},1024),r(I,{url:`classes/${(C=(g=S(a.id))==null?void 0:g.name)==null?void 0:C.replace(" ","-")}.jpg`},{default:y(({link:L})=>[e("div",{id:"DungeonDot",class:"text-center shadow-24 relative-position",style:q({"background-image":`url(${L})`})},[e("div",K,[e("div",null,p(a.ontime_percent.toFixed(0))+"%",1)])],4)]),_:2},1032,["url"]),e("div",O,p((w=S(a.id))==null?void 0:w.name),1)])}),128))])])):M("",!0)}}),Y=e("div",null,[e("div",{class:"flex flex-center"},[e("div",{class:"Centertext HeaderSize HeaderFont"},`What's the "best" class this week?`)]),e("div",{class:"flex flex-center"},[e("p",{class:"HeaderFont HeaderSize2"},"(ish)")])],-1),Z=e("br",null,null,-1),ee=e("br",null,null,-1),te=e("br",null,null,-1),se=e("br",null,null,-1),ue=k({__name:"classes",setup(F){const s=$().state.data,u=s.Selected;s.SelectedAffixSet;const h=s.settings,l=P(),c=f(()=>Q.GetDefaultView(l.screen.width,h));return(m,d)=>(n(),i("div",null,[Y,r(A),c.value==="table"?(n(),U(T,{key:0,Selected:b(u)},null,8,["Selected"])):(n(),i(D,{key:1},[r(V,{Selected:b(u)},null,8,["Selected"]),r(X)],64)),Z,ee,te,se]))}});export{ue as default};
