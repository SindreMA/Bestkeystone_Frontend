import{c as M,b9 as V,ba as qt,bb as Kt,D as ct,aq as Ct,E as Ht,G as pt,bc as Vt,r as P,a6 as Xt,w as re,a7 as st,H as h,a$ as Ie,I as Ot,J as vt,bd as It,ac as ue,be as Jt,bf as Wt,aa as Gt,bg as ea,bh as jt,bi as ta,aY as aa,bj as na,aG as la,d as ua,B as oa,u as ra,aA as ia,S as gt,o as sa,h as da,i as ca,j as ae,p as L,m as va,ab as fa,q as G,T as We,ad as ma,M as ha,z as ga,_ as ya,v as Ma,x as _a}from"./index.326ea565.js";import{u as Da}from"./use-cache.b0833c75.js";import{Q as yt}from"./QInput.873a83cc.js";const he=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function ba(e,u,f){return Object.prototype.toString.call(e)==="[object Date]"&&(f=e.getDate(),u=e.getMonth()+1,e=e.getFullYear()),ka(ft(e,u,f))}function Mt(e,u,f){return $t(Sa(e,u,f))}function wa(e){return xa(e)===0}function tt(e,u){return u<=6?31:u<=11||wa(e)?30:29}function xa(e){const u=he.length;let f=he[0],d,c,r,b,i;if(e<f||e>=he[u-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<u&&(d=he[i],c=d-f,!(e<d));i+=1)f=d;return b=e-f,c-b<6&&(b=b-c+$(c+4,33)*33),r=ee(ee(b+1,33)-1,4),r===-1&&(r=4),r}function Tt(e,u){const f=he.length,d=e+621;let c=-14,r=he[0],b,i,y,C,v;if(e<r||e>=he[f-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<f&&(b=he[v],i=b-r,!(e<b));v+=1)c=c+$(i,33)*8+$(ee(i,33),4),r=b;C=e-r,c=c+$(C,33)*8+$(ee(C,33)+3,4),ee(i,33)===4&&i-C===4&&(c+=1);const w=$(d,4)-$(($(d,100)+1)*3,4)-150,N=20+c-w;return u||(i-C<6&&(C=C-i+$(i+4,33)*33),y=ee(ee(C+1,33)-1,4),y===-1&&(y=4)),{leap:y,gy:d,march:N}}function Sa(e,u,f){const d=Tt(e,!0);return ft(d.gy,3,d.march)+(u-1)*31-$(u,7)*(u-7)+f-1}function ka(e){const u=$t(e).gy;let f=u-621,d,c,r;const b=Tt(f,!1),i=ft(u,3,b.march);if(r=e-i,r>=0){if(r<=185)return c=1+$(r,31),d=ee(r,31)+1,{jy:f,jm:c,jd:d};r-=186}else f-=1,r+=179,b.leap===1&&(r+=1);return c=7+$(r,30),d=ee(r,30)+1,{jy:f,jm:c,jd:d}}function ft(e,u,f){let d=$((e+$(u-8,6)+100100)*1461,4)+$(153*ee(u+9,12)+2,5)+f-34840408;return d=d-$($(e+100100+$(u-8,6),100)*3,4)+752,d}function $t(e){let u=4*e+139361631;u=u+$($(4*e+183187720,146097)*3,4)*4-3908;const f=$(ee(u,1461),4)*5+308,d=$(ee(f,153),5)+1,c=ee($(f,153),12)+1;return{gy:$(u,1461)-100100+$(8-c,6),gm:c,gd:d}}function $(e,u){return~~(e/u)}function ee(e,u){return e-~~(e/u)*u}const Ya=["gregorian","persian"],At={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ya.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ft=["update:modelValue"];function ce(e){return e.year+"/"+V(e.month)+"/"+V(e.day)}function Bt(e,u){const f=M(()=>e.disable!==!0&&e.readonly!==!0),d=M(()=>f.value===!0?0:-1),c=M(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function r(){return e.locale!==void 0?{...u.lang.date,...e.locale}:u.lang.date}function b(i){const y=new Date,C=i===!0?null:0;if(e.calendar==="persian"){const v=ba(y);return{year:v.jy,month:v.jm,day:v.jd}}return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hour:C,minute:C,second:C,millisecond:C}}return{editable:f,tabindex:d,headerClass:c,getLocale:r,getCurrentDate:b}}const Pt=864e5,qa=36e5,dt=6e4,Nt="YYYY-MM-DDTHH:mm:ss.SSSZ",Ca=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ha=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,rt={};function pa(e,u){const f="("+u.days.join("|")+")",d=e+f;if(rt[d]!==void 0)return rt[d];const c="("+u.daysShort.join("|")+")",r="("+u.months.join("|")+")",b="("+u.monthsShort.join("|")+")",i={};let y=0;const C=e.replace(Ha,w=>{switch(y++,w){case"YY":return i.YY=y,"(-?\\d{1,2})";case"YYYY":return i.YYYY=y,"(-?\\d{1,4})";case"M":return i.M=y,"(\\d{1,2})";case"MM":return i.M=y,"(\\d{2})";case"MMM":return i.MMM=y,b;case"MMMM":return i.MMMM=y,r;case"D":return i.D=y,"(\\d{1,2})";case"Do":return i.D=y++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=y,"(\\d{2})";case"H":return i.H=y,"(\\d{1,2})";case"HH":return i.H=y,"(\\d{2})";case"h":return i.h=y,"(\\d{1,2})";case"hh":return i.h=y,"(\\d{2})";case"m":return i.m=y,"(\\d{1,2})";case"mm":return i.m=y,"(\\d{2})";case"s":return i.s=y,"(\\d{1,2})";case"ss":return i.s=y,"(\\d{2})";case"S":return i.S=y,"(\\d{1})";case"SS":return i.S=y,"(\\d{2})";case"SSS":return i.S=y,"(\\d{3})";case"A":return i.A=y,"(AM|PM)";case"a":return i.a=y,"(am|pm)";case"aa":return i.aa=y,"(a\\.m\\.|p\\.m\\.)";case"ddd":return c;case"dddd":return f;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=y,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=y,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=y,"(-?\\d+)";case"x":return i.x=y,"(-?\\d{4,})";default:return y--,w[0]==="["&&(w=w.substring(1,w.length-1)),w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:i,regex:new RegExp("^"+C)};return rt[d]=v,v}function Et(e,u){return e!==void 0?e:u!==void 0?u.date:Kt.date}function _t(e,u=""){const f=e>0?"-":"+",d=Math.abs(e),c=Math.floor(d/60),r=d%60;return f+V(c)+u+V(r)}function Ee(e,u,f,d,c){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(c!==void 0&&Object.assign(r,c),e==null||e===""||typeof e!="string")return r;u===void 0&&(u=Nt);const b=Et(f,qt.props),i=b.months,y=b.monthsShort,{regex:C,map:v}=pa(u,b),w=e.match(C);if(w===null)return r;let N="";if(v.X!==void 0||v.x!==void 0){const B=parseInt(w[v.X!==void 0?v.X:v.x],10);if(isNaN(B)===!0||B<0)return r;const Z=new Date(B*(v.X!==void 0?1e3:1));r.year=Z.getFullYear(),r.month=Z.getMonth()+1,r.day=Z.getDate(),r.hour=Z.getHours(),r.minute=Z.getMinutes(),r.second=Z.getSeconds(),r.millisecond=Z.getMilliseconds()}else{if(v.YYYY!==void 0)r.year=parseInt(w[v.YYYY],10);else if(v.YY!==void 0){const B=parseInt(w[v.YY],10);r.year=B<0?B:2e3+B}if(v.M!==void 0){if(r.month=parseInt(w[v.M],10),r.month<1||r.month>12)return r}else v.MMM!==void 0?r.month=y.indexOf(w[v.MMM])+1:v.MMMM!==void 0&&(r.month=i.indexOf(w[v.MMMM])+1);if(v.D!==void 0){if(r.day=parseInt(w[v.D],10),r.year===null||r.month===null||r.day<1)return r;const B=d!=="persian"?new Date(r.year,r.month,0).getDate():tt(r.year,r.month);if(r.day>B)return r}v.H!==void 0?r.hour=parseInt(w[v.H],10)%24:v.h!==void 0&&(r.hour=parseInt(w[v.h],10)%12,(v.A&&w[v.A]==="PM"||v.a&&w[v.a]==="pm"||v.aa&&w[v.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),v.m!==void 0&&(r.minute=parseInt(w[v.m],10)%60),v.s!==void 0&&(r.second=parseInt(w[v.s],10)%60),v.S!==void 0&&(r.millisecond=parseInt(w[v.S],10)*10**(3-w[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(N=v.Z!==void 0?w[v.Z].replace(":",""):w[v.ZZ],r.timezoneOffset=(N[0]==="+"?-1:1)*(60*N.slice(1,3)+1*N.slice(3,5)))}return r.dateHash=V(r.year,6)+"/"+V(r.month)+"/"+V(r.day),r.timeHash=V(r.hour)+":"+V(r.minute)+":"+V(r.second)+N,r}function Dt(e){const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());u.setDate(u.getDate()-(u.getDay()+6)%7+3);const f=new Date(u.getFullYear(),0,4);f.setDate(f.getDate()-(f.getDay()+6)%7+3);const d=u.getTimezoneOffset()-f.getTimezoneOffset();u.setHours(u.getHours()-d);const c=(u-f)/(Pt*7);return 1+Math.floor(c)}function ve(e,u,f){const d=new Date(e),c=`set${f===!0?"UTC":""}`;switch(u){case"year":case"years":d[`${c}Month`](0);case"month":case"months":d[`${c}Date`](1);case"day":case"days":case"date":d[`${c}Hours`](0);case"hour":case"hours":d[`${c}Minutes`](0);case"minute":case"minutes":d[`${c}Seconds`](0);case"second":case"seconds":d[`${c}Milliseconds`](0)}return d}function Ge(e,u,f){return(e.getTime()-e.getTimezoneOffset()*dt-(u.getTime()-u.getTimezoneOffset()*dt))/f}function Qt(e,u,f="days"){const d=new Date(e),c=new Date(u);switch(f){case"years":case"year":return d.getFullYear()-c.getFullYear();case"months":case"month":return(d.getFullYear()-c.getFullYear())*12+d.getMonth()-c.getMonth();case"days":case"day":case"date":return Ge(ve(d,"day"),ve(c,"day"),Pt);case"hours":case"hour":return Ge(ve(d,"hour"),ve(c,"hour"),qa);case"minutes":case"minute":return Ge(ve(d,"minute"),ve(c,"minute"),dt);case"seconds":case"second":return Ge(ve(d,"second"),ve(c,"second"),1e3)}}function bt(e){return Qt(e,ve(e,"year"),"days")+1}function wt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const xt={YY(e,u,f){const d=this.YYYY(e,u,f)%100;return d>=0?V(d):"-"+V(Math.abs(d))},YYYY(e,u,f){return f!=null?f:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return V(e.getMonth()+1)},MMM(e,u){return u.monthsShort[e.getMonth()]},MMMM(e,u){return u.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return wt(this.Q(e))},D(e){return e.getDate()},Do(e){return wt(e.getDate())},DD(e){return V(e.getDate())},DDD(e){return bt(e)},DDDD(e){return V(bt(e),3)},d(e){return e.getDay()},dd(e,u){return this.dddd(e,u).slice(0,2)},ddd(e,u){return u.daysShort[e.getDay()]},dddd(e,u){return u.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Dt(e)},ww(e){return V(Dt(e))},H(e){return e.getHours()},HH(e){return V(e.getHours())},h(e){const u=e.getHours();return u===0?12:u>12?u%12:u},hh(e){return V(this.h(e))},m(e){return e.getMinutes()},mm(e){return V(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return V(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return V(Math.floor(e.getMilliseconds()/10))},SSS(e){return V(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,u,f,d){const c=d==null?e.getTimezoneOffset():d;return _t(c,":")},ZZ(e,u,f,d){const c=d==null?e.getTimezoneOffset():d;return _t(c)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Zt(e,u,f,d,c){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;u===void 0&&(u=Nt);const b=Et(f,qt.props);return u.replace(Ca,(i,y)=>i in xt?xt[i](r,b,d,c):y===void 0?i:y.split("\\]").join("]"))}const we=20,Va=["Calendar","Years","Months"],St=e=>Va.includes(e),it=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Oe=" \u2014 ";function me(e){return e.year+"/"+V(e.month)}var kt=ct({name:"QDate",props:{...At,...Ct,...Ht,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:it},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:it},navigationMaxYearMonth:{type:String,validator:it},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:St}},emits:[...Ft,"rangeStart","rangeEnd","navigation"],setup(e,{slots:u,emit:f}){const{proxy:d}=vt(),{$q:c}=d,r=pt(e,c),{getCache:b}=Da(),{tabindex:i,headerClass:y,getLocale:C,getCurrentDate:v}=Bt(e,c);let w;const N=Vt(e),B=It(N),Z=P(null),p=P(Xe()),H=P(C()),ge=M(()=>Xe()),ie=M(()=>C()),x=M(()=>v()),o=P(l(p.value,H.value)),S=P(e.defaultView),O=c.lang.rtl===!0?"right":"left",I=P(O.value),E=P(O.value),je=o.value.year,ye=P(je-je%we-(je<0?we:0)),R=P(null),Me=M(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),te=M(()=>e.color||"primary"),ne=M(()=>e.textColor||"white"),K=M(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),se=M(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),U=M(()=>se.value.filter(t=>typeof t=="string").map(t=>Pe(t,p.value,H.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),le=M(()=>{const t=a=>Pe(a,p.value,H.value);return se.value.filter(a=>Xt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),Se=M(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=Mt(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Te=M(()=>e.calendar==="persian"?ce:(t,a,n)=>Zt(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?p.value:a,n===void 0?H.value:n,t.year,t.timezoneOffset)),fe=M(()=>U.value.length+le.value.reduce((t,a)=>t+1+Qt(Se.value(a.to),Se.value(a.from)),0)),_e=M(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(R.value!==null){const n=R.value.init,g=Se.value(n);return H.value.daysShort[g.getDay()]+", "+H.value.monthsShort[n.month-1]+" "+n.day+Oe+"?"}if(fe.value===0)return Oe;if(fe.value>1)return`${fe.value} ${H.value.pluralDay}`;const t=U.value[0],a=Se.value(t);return isNaN(a.valueOf())===!0?Oe:H.value.headerTitle!==void 0?H.value.headerTitle(a,t):H.value.daysShort[a.getDay()]+", "+H.value.monthsShort[t.month-1]+" "+t.day}),Qe=M(()=>U.value.concat(le.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),$e=M(()=>U.value.concat(le.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),Ze=M(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(fe.value===0)return Oe;if(fe.value>1){const t=Qe.value,a=$e.value,n=H.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+Oe+n[a.month-1]+" ":t.month!==a.month?Oe+n[a.month-1]:"")+" "+a.year}return U.value[0].year}),ke=M(()=>{const t=[c.iconSet.datetime.arrowLeft,c.iconSet.datetime.arrowRight];return c.lang.rtl===!0?t.reverse():t}),Ye=M(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):H.value.firstDayOfWeek),Ae=M(()=>{const t=H.value.daysShort,a=Ye.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),oe=M(()=>{const t=o.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():tt(t.year,t.month)}),ze=M(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),Q=M(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),z=M(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Fe=M(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return Q.value!==null&&Q.value.year>=o.value.year&&(t.year.prev=!1,Q.value.year===o.value.year&&Q.value.month>=o.value.month&&(t.month.prev=!1)),z.value!==null&&z.value.year<=o.value.year&&(t.year.next=!1,z.value.year===o.value.year&&z.value.month<=o.value.month&&(t.month.next=!1)),t}),qe=M(()=>{const t={};return U.value.forEach(a=>{const n=me(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),Le=M(()=>{const t={};return le.value.forEach(a=>{const n=me(a.from),g=me(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===g?a.to.day:void 0,range:a}),n<g){let m;const{year:j,month:_}=a.from,k=_<12?{year:j,month:_+1}:{year:j+1,month:1};for(;(m=me(k))<=g;)t[m]===void 0&&(t[m]=[]),t[m].push({from:void 0,to:m===g?a.to.day:void 0,range:a}),k.month++,k.month>12&&(k.year++,k.month=1)}}),t}),De=M(()=>{if(R.value===null)return;const{init:t,initHash:a,final:n,finalHash:g}=R.value,[m,j]=a<=g?[t,n]:[n,t],_=me(m),k=me(j);if(_!==X.value&&k!==X.value)return;const T={};return _===X.value?(T.from=m.day,T.includeFrom=!0):T.from=1,k===X.value?(T.to=j.day,T.includeTo=!0):T.to=oe.value,T}),X=M(()=>me(o.value)),at=M(()=>{const t={};if(e.options===void 0){for(let n=1;n<=oe.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=oe.value;n++){const g=X.value+"/"+V(n);t[n]=a(g)}return t}),nt=M(()=>{const t={};if(e.events===void 0)for(let a=1;a<=oe.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=oe.value;n++){const g=X.value+"/"+V(n);t[n]=a(g)===!0&&ze.value(g)}}return t}),Ce=M(()=>{let t,a;const{year:n,month:g}=o.value;if(e.calendar!=="persian")t=new Date(n,g-1,1),a=new Date(n,g-1,0).getDate();else{const m=Mt(n,g,1);t=new Date(m.gy,m.gm-1,m.gd);let j=g-1,_=n;j===0&&(j=12,_--),a=tt(_,j)}return{days:t.getDay()-Ye.value-1,endDay:a}}),be=M(()=>{const t=[],{days:a,endDay:n}=Ce.value,g=a<0?a+7:a;if(g<6)for(let _=n-g;_<=n;_++)t.push({i:_,fill:!0});const m=t.length;for(let _=1;_<=oe.value;_++){const k={i:_,event:nt.value[_],classes:[]};at.value[_]===!0&&(k.in=!0,k.flat=!0),t.push(k)}if(qe.value[X.value]!==void 0&&qe.value[X.value].forEach(_=>{const k=m+_-1;Object.assign(t[k],{selected:!0,unelevated:!0,flat:!1,color:te.value,textColor:ne.value})}),Le.value[X.value]!==void 0&&Le.value[X.value].forEach(_=>{if(_.from!==void 0){const k=m+_.from-1,T=m+(_.to||oe.value)-1;for(let Ne=k;Ne<=T;Ne++)Object.assign(t[Ne],{range:_.range,unelevated:!0,color:te.value,textColor:ne.value});Object.assign(t[k],{rangeFrom:!0,flat:!1}),_.to!==void 0&&Object.assign(t[T],{rangeTo:!0,flat:!1})}else if(_.to!==void 0){const k=m+_.to-1;for(let T=m;T<=k;T++)Object.assign(t[T],{range:_.range,unelevated:!0,color:te.value,textColor:ne.value});Object.assign(t[k],{flat:!1,rangeTo:!0})}else{const k=m+oe.value-1;for(let T=m;T<=k;T++)Object.assign(t[T],{range:_.range,unelevated:!0,color:te.value,textColor:ne.value})}}),De.value!==void 0){const _=m+De.value.from-1,k=m+De.value.to-1;for(let T=_;T<=k;T++)t[T].color=te.value,t[T].editRange=!0;De.value.includeFrom===!0&&(t[_].editRangeFrom=!0),De.value.includeTo===!0&&(t[k].editRangeTo=!0)}o.value.year===x.value.year&&o.value.month===x.value.month&&(t[m+x.value.day-1].today=!0);const j=t.length%7;if(j>0){const _=7-j;for(let k=1;k<=_;k++)t.push({i:k,fill:!0})}return t.forEach(_=>{let k="q-date__calendar-item ";_.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${_.in===!0?"in":"out"}`,_.range!==void 0&&(k+=` q-date__range${_.rangeTo===!0?"-to":_.rangeFrom===!0?"-from":""}`),_.editRange===!0&&(k+=` q-date__edit-range${_.editRangeFrom===!0?"-from":""}${_.editRangeTo===!0?"-to":""}`),(_.range!==void 0||_.editRange===!0)&&(k+=` text-${_.color}`)),_.classes=k}),t}),He=M(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});re(()=>e.modelValue,t=>{if(w===t)w=0;else{const a=l(p.value,H.value);J(a.year,a.month,a)}}),re(S,()=>{Z.value!==null&&d.$el.contains(document.activeElement)===!0&&Z.value.focus()}),re(()=>o.value.year+"|"+o.value.month,()=>{f("navigation",{year:o.value.year,month:o.value.month})}),re(ge,t=>{ht(t,H.value,"mask"),p.value=t}),re(ie,t=>{ht(p.value,t,"locale"),H.value=t});function Ue(){const t=x.value,a=qe.value[me(t)];(a===void 0||a.includes(t.day)===!1)&&lt(t),de(t.year,t.month)}function Re(t){St(t)===!0&&(S.value=t)}function Ke(t,a){["month","year"].includes(t)&&(t==="month"?D:Y)(a===!0?-1:1)}function de(t,a){S.value="Calendar",J(t,a)}function Be(t,a){if(e.range===!1||!t){R.value=null;return}const n=Object.assign({...o.value},t),g=a!==void 0?Object.assign({...o.value},a):n;R.value={init:n,initHash:ce(n),final:g,finalHash:ce(g)},de(n.year,n.month)}function Xe(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Pe(t,a,n){return Ee(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function l(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return s();const g=n[n.length-1],m=Pe(g.from!==void 0?g.from:g,t,a);return m.dateHash===null?s():m}function s(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=x.value!==void 0?x.value:v();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+V(a)+"/01"}}function D(t){let a=o.value.year,n=Number(o.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),J(a,n),K.value===!0&&pe("month")}function Y(t){const a=Number(o.value.year)+t;J(a,o.value.month),K.value===!0&&pe("year")}function A(t){J(t,o.value.month),S.value=e.defaultView==="Years"?"Months":"Calendar",K.value===!0&&pe("year")}function W(t){J(o.value.year,t),S.value="Calendar",K.value===!0&&pe("month")}function q(t,a){const n=qe.value[a];(n!==void 0&&n.includes(t.day)===!0?ut:lt)(t)}function F(t){return{year:t.year,month:t.month,day:t.day}}function J(t,a,n){if(Q.value!==null&&t<=Q.value.year&&(t=Q.value.year,a<Q.value.month&&(a=Q.value.month)),z.value!==null&&t>=z.value.year&&(t=z.value.year,a>z.value.month&&(a=z.value.month)),n!==void 0){const{hour:m,minute:j,second:_,millisecond:k,timezoneOffset:T,timeHash:Ne}=n;Object.assign(o.value,{hour:m,minute:j,second:_,millisecond:k,timezoneOffset:T,timeHash:Ne})}const g=t+"/"+V(a)+"/01";g!==o.value.dateHash&&(I.value=o.value.dateHash<g==(c.lang.rtl!==!0)?"left":"right",t!==o.value.year&&(E.value=I.value),st(()=>{ye.value=t-t%we-(t<0?we:0),Object.assign(o.value,{year:t,month:a,day:1,dateHash:g})}))}function Je(t,a,n){const g=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;w=g;const{reason:m,details:j}=mt(a,n);f("update:modelValue",g,m,j)}function pe(t){const a=U.value[0]!==void 0&&U.value[0].dateHash!==null?{...U.value[0]}:{...o.value};st(()=>{a.year=o.value.year,a.month=o.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():tt(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const g=Ve(a);w=g;const{details:m}=mt("",a);f("update:modelValue",g,t,m)})}function mt(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...F(a.target),from:F(a.from),to:F(a.to)}}:{reason:`${t}-day`,details:F(a)}}function Ve(t,a,n){return t.from!==void 0?{from:Te.value(t.from,a,n),to:Te.value(t.to,a,n)}:Te.value(t,a,n)}function lt(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=ce(t.from),g=ce(t.to),m=U.value.filter(_=>_.dateHash<n||_.dateHash>g),j=le.value.filter(({from:_,to:k})=>k.dateHash<n||_.dateHash>g);a=m.concat(j).concat(t).map(_=>Ve(_))}else{const n=se.value.slice();n.push(Ve(t)),a=n}else a=Ve(t);Je(a,"add",t)}function ut(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=Ve(t);t.from!==void 0?a=e.modelValue.filter(g=>g.from!==void 0?g.from!==n.from&&g.to!==n.to:!0):a=e.modelValue.filter(g=>g!==n),a.length===0&&(a=null)}Je(a,"remove",t)}function ht(t,a,n){const g=U.value.concat(le.value).map(m=>Ve(m,t,a)).filter(m=>m.from!==void 0?m.from.dateHash!==null&&m.to.dateHash!==null:m.dateHash!==null);f("update:modelValue",(e.multiple===!0?g:g[0])||null,n)}function zt(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+y.value},[h("div",{class:"relative-position"},[h(Ie,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+Ze.value,class:"q-date__header-subtitle q-date__header-link "+(S.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...b("vY",{onClick(){S.value="Years"},onKeyup(t){t.keyCode===13&&(S.value="Years")}})},[Ze.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(Ie,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+_e.value,class:"q-date__header-title-label q-date__header-link "+(S.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...b("vC",{onClick(){S.value="Calendar"},onKeyup(t){t.keyCode===13&&(S.value="Calendar")}})},[_e.value]))]),e.todayBtn===!0?h(ue,{class:"q-date__header-today self-start",icon:c.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:Ue}):null])])}function ot({label:t,type:a,key:n,dir:g,goTo:m,boundaries:j,cls:_}){return[h("div",{class:"row items-center q-date__arrow"},[h(ue,{round:!0,dense:!0,size:"sm",flat:!0,icon:ke.value[0],tabindex:i.value,disable:j.prev===!1,...b("go-#"+a,{onClick(){m(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+_},[h(Ie,{name:"q-transition--jump-"+g},()=>h("div",{key:n},[h(ue,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...b("view#"+a,{onClick:()=>{S.value=a}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(ue,{round:!0,dense:!0,size:"sm",flat:!0,icon:ke.value[1],tabindex:i.value,disable:j.next===!1,...b("go+#"+a,{onClick(){m(1)}})})])]}const Lt={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},ot({label:H.value.months[o.value.month-1],type:"Months",key:o.value.month,dir:I.value,goTo:D,boundaries:Fe.value.month,cls:" col"}).concat(ot({label:o.value.year,type:"Years",key:o.value.year,dir:E.value,goTo:Y,boundaries:Fe.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Ae.value.map(t=>h("div",{class:"q-date__calendar-item"},[h("div",t)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(Ie,{name:"q-transition--slide-"+I.value},()=>h("div",{key:X.value,class:"q-date__calendar-days fit"},be.value.map(t=>h("div",{class:t.classes},[t.in===!0?h(ue,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...b("day#"+t.i,{onClick:()=>{Ut(t.i)},onMouseover:()=>{Rt(t.i)}})},t.event!==!1?()=>h("div",{class:"q-date__event bg-"+t.event}):null):h("div",""+t.i)]))))])])],Months(){const t=o.value.year===x.value.year,a=g=>Q.value!==null&&o.value.year===Q.value.year&&Q.value.month>g||z.value!==null&&o.value.year===z.value.year&&z.value.month<g,n=H.value.monthsShort.map((g,m)=>{const j=o.value.month===m+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(ue,{class:t===!0&&x.value.month===m+1?"q-date__today":null,flat:j!==!0,label:g,unelevated:j,color:j===!0?te.value:null,textColor:j===!0?ne.value:null,tabindex:i.value,disable:a(m+1),...b("month#"+m,{onClick:()=>{W(m+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(h("div",{class:"row no-wrap full-width"},[ot({label:o.value.year,type:"Years",key:o.value.year,dir:E.value,goTo:Y,boundaries:Fe.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=ye.value,a=t+we,n=[],g=m=>Q.value!==null&&Q.value.year>m||z.value!==null&&z.value.year<m;for(let m=t;m<=a;m++){const j=o.value.year===m;n.push(h("div",{class:"q-date__years-item flex flex-center"},[h(ue,{key:"yr"+m,class:x.value.year===m?"q-date__today":null,flat:!j,label:m,dense:!0,unelevated:j,color:j===!0?te.value:null,textColor:j===!0?ne.value:null,tabindex:i.value,disable:g(m),...b("yr#"+m,{onClick:()=>{A(m)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(ue,{round:!0,dense:!0,flat:!0,icon:ke.value[0],tabindex:i.value,disable:g(t),...b("y-",{onClick:()=>{ye.value-=we}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},n),h("div",{class:"col-auto"},[h(ue,{round:!0,dense:!0,flat:!0,icon:ke.value[1],tabindex:i.value,disable:g(a),...b("y+",{onClick:()=>{ye.value+=we}})})])])}};function Ut(t){const a={...o.value,day:t};if(e.range===!1){q(a,X.value);return}if(R.value===null){const n=be.value.find(m=>m.fill!==!0&&m.i===t);if(e.noUnset!==!0&&n.range!==void 0){ut({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){ut(a);return}const g=ce(a);R.value={init:a,initHash:g,final:a,finalHash:g},f("rangeStart",F(a))}else{const n=R.value.initHash,g=ce(a),m=n<=g?{from:R.value.init,to:a}:{from:a,to:R.value.init};R.value=null,lt(n===g?a:{target:a,...m}),f("rangeEnd",{from:F(m.from),to:F(m.to)})}}function Rt(t){if(R.value!==null){const a={...o.value,day:t};Object.assign(R.value,{final:a,finalHash:ce(a)})}}return Object.assign(d,{setToday:Ue,setView:Re,offsetCalendar:Ke,setCalendarTo:de,setEditingRange:Be}),()=>{const t=[h("div",{class:"q-date__content col relative-position"},[h(Ie,{name:"q-transition--fade"},Lt[S.value])])],a=Ot(u.default);return a!==void 0&&t.push(h("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&B(t,"push"),h("div",{class:Me.value,...He.value},[zt(),h("div",{ref:Z,class:"q-date__main col column",tabindex:-1},t)])}}}),et=ct({name:"QPopupProxy",props:{...Jt,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:u,emit:f,attrs:d}){const{proxy:c}=vt(),{$q:r}=c,b=P(!1),i=P(null),y=M(()=>parseInt(e.breakpoint,10)),{canShow:C}=Wt({showing:b});function v(){return r.screen.width<y.value||r.screen.height<y.value?"dialog":"menu"}const w=P(v()),N=M(()=>w.value==="menu"?{maxHeight:"99vh"}:{});re(()=>v(),p=>{b.value!==!0&&(w.value=p)});function B(p){b.value=!0,f("show",p)}function Z(p){b.value=!1,w.value=v(),f("hide",p)}return Object.assign(c,{show(p){C(p)===!0&&i.value.show(p)},hide(p){i.value.hide(p)},toggle(p){i.value.toggle(p)}}),Gt(c,"currentComponent",()=>({type:w.value,ref:i.value})),()=>{const p={ref:i,...N.value,...d,onShow:B,onHide:Z};let H;return w.value==="dialog"?H=ea:(H=jt,Object.assign(p,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),h(H,p,u.default)}}});function Oa(e,u){if(e.hour!==null){if(e.minute===null)return"minute";if(u===!0&&e.second===null)return"second"}return"hour"}function Ia(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var Yt=ct({name:"QTime",props:{...Ht,...Ct,...At,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Ft,setup(e,{slots:u,emit:f}){const d=vt(),{$q:c}=d.proxy,r=pt(e,c),{tabindex:b,headerClass:i,getLocale:y,getCurrentDate:C}=Bt(e,c),v=Vt(e),w=It(v);let N,B;const Z=P(null),p=M(()=>Ze()),H=M(()=>y()),ge=M(()=>ke()),ie=Ee(e.modelValue,p.value,H.value,e.calendar,ge.value),x=P(Oa(ie)),o=P(ie),S=P(ie.hour===null||ie.hour<12),O=M(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(r.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),I=M(()=>{const l=o.value;return{hour:l.hour===null?"--":E.value===!0?V(l.hour):String(S.value===!0?l.hour===0?12:l.hour:l.hour>12?l.hour-12:l.hour),minute:l.minute===null?"--":V(l.minute),second:l.second===null?"--":V(l.second)}}),E=M(()=>e.format24h!==null?e.format24h:c.lang.date.format24h),je=M(()=>{const l=x.value==="hour",s=l===!0?12:60,D=o.value[x.value];let A=`rotate(${Math.round(D*(360/s))-180}deg) translateX(-50%)`;return l===!0&&E.value===!0&&o.value.hour>=12&&(A+=" scale(.7)"),{transform:A}}),ye=M(()=>o.value.hour!==null),R=M(()=>ye.value===!0&&o.value.minute!==null),Me=M(()=>e.hourOptions!==void 0?l=>e.hourOptions.includes(l):e.options!==void 0?l=>e.options(l,null,null):null),te=M(()=>e.minuteOptions!==void 0?l=>e.minuteOptions.includes(l):e.options!==void 0?l=>e.options(o.value.hour,l,null):null),ne=M(()=>e.secondOptions!==void 0?l=>e.secondOptions.includes(l):e.options!==void 0?l=>e.options(o.value.hour,o.value.minute,l):null),K=M(()=>{if(Me.value===null)return null;const l=_e(0,11,Me.value),s=_e(12,11,Me.value);return{am:l,pm:s,values:l.values.concat(s.values)}}),se=M(()=>te.value!==null?_e(0,59,te.value):null),U=M(()=>ne.value!==null?_e(0,59,ne.value):null),le=M(()=>{switch(x.value){case"hour":return K.value;case"minute":return se.value;case"second":return U.value}}),Se=M(()=>{let l,s,D=0,Y=1;const A=le.value!==null?le.value.values:void 0;x.value==="hour"?E.value===!0?(l=0,s=23):(l=0,s=11,S.value===!1&&(D=12)):(l=0,s=55,Y=5);const W=[];for(let q=l,F=l;q<=s;q+=Y,F++){const J=q+D,Je=A!==void 0&&A.includes(J)===!1,pe=x.value==="hour"&&q===0?E.value===!0?"00":"12":q;W.push({val:J,index:F,disable:Je,label:pe})}return W}),Te=M(()=>[[ta,oe,void 0,{stop:!0,prevent:!0,mouse:!0}]]);re(()=>e.modelValue,l=>{const s=Ee(l,p.value,H.value,e.calendar,ge.value);(s.dateHash!==o.value.dateHash||s.timeHash!==o.value.timeHash)&&(o.value=s,s.hour===null?x.value="hour":S.value=s.hour<12)}),re([p,H],()=>{st(()=>{Be()})});function fe(){const l={...C(),...Ia()};Be(l),Object.assign(o.value,l),x.value="hour"}function _e(l,s,D){const Y=Array.apply(null,{length:s+1}).map((A,W)=>{const q=W+l;return{index:q,val:D(q)===!0}}).filter(A=>A.val===!0).map(A=>A.index);return{min:Y[0],max:Y[Y.length-1],values:Y,threshold:s+1}}function Qe(l,s,D){const Y=Math.abs(l-s);return Math.min(Y,D-Y)}function $e(l,{min:s,max:D,values:Y,threshold:A}){if(l===s)return s;if(l<s||l>D)return Qe(l,s,A)<=Qe(l,D,A)?s:D;const W=Y.findIndex(J=>l<=J),q=Y[W-1],F=Y[W];return l-q<=F-l?q:F}function Ze(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function ke(){if(typeof e.defaultDate!="string"){const l=C(!0);return l.dateHash=ce(l),l}return Ee(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function Ye(){return na(d)===!0||le.value!==null&&(le.value.values.length===0||x.value==="hour"&&E.value!==!0&&K.value[S.value===!0?"am":"pm"].values.length===0)}function Ae(){const l=Z.value,{top:s,left:D,width:Y}=l.getBoundingClientRect(),A=Y/2;return{top:s+A,left:D+A,dist:A*.7}}function oe(l){if(Ye()!==!0){if(l.isFirst===!0){N=Ae(),B=Q(l.evt,N);return}B=Q(l.evt,N,B),l.isFinal===!0&&(N=!1,B=null,ze())}}function ze(){x.value==="hour"?x.value="minute":e.withSeconds&&x.value==="minute"&&(x.value="second")}function Q(l,s,D){const Y=aa(l),A=Math.abs(Y.top-s.top),W=Math.sqrt(Math.pow(Math.abs(Y.top-s.top),2)+Math.pow(Math.abs(Y.left-s.left),2));let q,F=Math.asin(A/W)*(180/Math.PI);if(Y.top<s.top?F=s.left<Y.left?90-F:270+F:F=s.left<Y.left?F+90:270-F,x.value==="hour"){if(q=F/30,K.value!==null){const J=E.value!==!0?S.value===!0:K.value.am.values.length!==0&&K.value.pm.values.length!==0?W>=s.dist:K.value.am.values.length!==0;q=$e(q+(J===!0?0:12),K.value[J===!0?"am":"pm"])}else q=Math.round(q),E.value===!0?W<s.dist?q<12&&(q+=12):q===12&&(q=0):S.value===!0&&q===12?q=0:S.value===!1&&q!==12&&(q+=12);E.value===!0&&(S.value=q<12)}else q=Math.round(F/6)%60,x.value==="minute"&&se.value!==null?q=$e(q,se.value):x.value==="second"&&U.value!==null&&(q=$e(q,U.value));return D!==q&&Ue[x.value](q),q}const z={hour(){x.value="hour"},minute(){x.value="minute"},second(){x.value="second"}};function Fe(l){l.keyCode===13&&Re()}function qe(l){l.keyCode===13&&Ke()}function Le(l){Ye()!==!0&&(c.platform.is.desktop!==!0&&Q(l,Ae()),ze())}function De(l){Ye()!==!0&&Q(l,Ae())}function X(l){if(l.keyCode===13)x.value="hour";else if([37,39].includes(l.keyCode)){const s=l.keyCode===37?-1:1;if(K.value!==null){const D=E.value===!0?K.value.values:K.value[S.value===!0?"am":"pm"].values;if(D.length===0)return;if(o.value.hour===null)Ce(D[0]);else{const Y=(D.length+D.indexOf(o.value.hour)+s)%D.length;Ce(D[Y])}}else{const D=E.value===!0?24:12,Y=E.value!==!0&&S.value===!1?12:0,A=o.value.hour===null?-s:o.value.hour;Ce(Y+(24+A+s)%D)}}}function at(l){if(l.keyCode===13)x.value="minute";else if([37,39].includes(l.keyCode)){const s=l.keyCode===37?-1:1;if(se.value!==null){const D=se.value.values;if(D.length===0)return;if(o.value.minute===null)be(D[0]);else{const Y=(D.length+D.indexOf(o.value.minute)+s)%D.length;be(D[Y])}}else{const D=o.value.minute===null?-s:o.value.minute;be((60+D+s)%60)}}}function nt(l){if(l.keyCode===13)x.value="second";else if([37,39].includes(l.keyCode)){const s=l.keyCode===37?-1:1;if(U.value!==null){const D=U.value.values;if(D.length===0)return;if(o.value.seconds===null)He(D[0]);else{const Y=(D.length+D.indexOf(o.value.second)+s)%D.length;He(D[Y])}}else{const D=o.value.second===null?-s:o.value.second;He((60+D+s)%60)}}}function Ce(l){o.value.hour!==l&&(o.value.hour=l,de())}function be(l){o.value.minute!==l&&(o.value.minute=l,de())}function He(l){o.value.second!==l&&(o.value.second=l,de())}const Ue={hour:Ce,minute:be,second:He};function Re(){S.value===!1&&(S.value=!0,o.value.hour!==null&&(o.value.hour-=12,de()))}function Ke(){S.value===!0&&(S.value=!1,o.value.hour!==null&&(o.value.hour+=12,de()))}function de(){if(Me.value!==null&&Me.value(o.value.hour)!==!0){o.value=Ee(),x.value="hour";return}if(te.value!==null&&te.value(o.value.minute)!==!0){o.value.minute=null,o.value.second=null,x.value="minute";return}if(e.withSeconds===!0&&ne.value!==null&&ne.value(o.value.second)!==!0){o.value.second=null,x.value="second";return}o.value.hour===null||o.value.minute===null||e.withSeconds===!0&&o.value.second===null||Be()}function Be(l){const s=Object.assign({...o.value},l),D=e.calendar==="persian"?V(s.hour)+":"+V(s.minute)+(e.withSeconds===!0?":"+V(s.second):""):Zt(new Date(s.year,s.month===null?null:s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond),p.value,H.value,s.year,s.timezoneOffset);s.changed=D!==e.modelValue,f("update:modelValue",D,s)}function Xe(){const l=[h("div",{class:"q-time__link "+(x.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:z.hour,onKeyup:X},I.value.hour),h("div",":"),h("div",ye.value===!0?{class:"q-time__link "+(x.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onKeyup:at,onClick:z.minute}:{class:"q-time__link"},I.value.minute)];e.withSeconds===!0&&l.push(h("div",":"),h("div",R.value===!0?{class:"q-time__link "+(x.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onKeyup:nt,onClick:z.second}:{class:"q-time__link"},I.value.second));const s=[h("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},l)];return E.value===!1&&s.push(h("div",{class:"q-time__header-ampm column items-between no-wrap"},[h("div",{class:"q-time__link "+(S.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:Re,onKeyup:Fe},"AM"),h("div",{class:"q-time__link "+(S.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:Ke,onKeyup:qe},"PM")])),h("div",{class:"q-time__header flex flex-center no-wrap "+i.value},s)}function Pe(){const l=o.value[x.value];return h("div",{class:"q-time__content col relative-position"},[h(Ie,{name:"q-transition--scale"},()=>h("div",{key:"clock"+x.value,class:"q-time__container-parent absolute-full"},[h("div",{ref:Z,class:"q-time__container-child fit overflow-hidden"},[la(h("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Le,onMousedown:De},[h("div",{class:"q-time__clock-circle fit"},[h("div",{class:"q-time__clock-pointer"+(o.value[x.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:je.value}),Se.value.map(s=>h("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${s.index}`+(s.val===l?" q-time__clock-position--active "+i.value:s.disable===!0?" q-time__clock-position--disable":"")},[h("span",s.label)]))])]),Te.value)])])),e.nowBtn===!0?h(ue,{class:"q-time__now-button absolute",icon:c.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:b.value,onClick:fe}):null])}return d.proxy.setNow=fe,()=>{const l=[Pe()],s=Ot(u.default);return s!==void 0&&l.push(h("div",{class:"q-time__actions"},s)),e.name!==void 0&&e.disable!==!0&&w(l,"push"),h("div",{class:O.value,tabindex:-1},[Xe(),h("div",{class:"q-time__main col overflow-auto"},l)])}}});const xe=e=>(Ma("data-v-c88baaaa"),e=e(),_a(),e),ja={class:"flex justify-center"},Ta={class:"CustomBox"},$a=xe(()=>ae("div",null,"From:",-1)),Aa=xe(()=>ae("br",null,null,-1)),Fa=xe(()=>ae("div",null,"To:",-1)),Ba=xe(()=>ae("br",null,null,-1)),Pa=xe(()=>ae("br",null,null,-1)),Na=xe(()=>ae("br",null,null,-1)),Ea=xe(()=>ae("br",null,null,-1)),Qa=ua({__name:"PeriodeSelector",props:{modelValue:{},region:{},onlySeasons:{},filled:{type:Boolean},input:{}},emits:["update:modelValue","input"],setup(e,{emit:u}){const f=e,{modelValue:d,region:c,onlySeasons:r,filled:b,input:i}=oa(f),y=P(null),C=P(null),v=P(null),w=P(!1);P(null);const N=ra(),B=N.state.data,Z=M(()=>B.settings),p=M(()=>B.Seasons),H=M(()=>{var S=[...p.value.filter(O=>{var I,E;return((E=(I=Z.value)==null?void 0:I.region)!=null?E:"us")==O.region}).map(O=>({label:O.name,value:O}))];return r.value||(S.push({label:"Custom",value:"custom"}),S.push({label:"All (Slow)",value:"none"})),S});re(p,()=>{i.value?ge(i.value):(console.log("newest"),ie())}),re(y,()=>{y.value=="none"?(C.value=ia(new Date).subtract(600,"day").unix()*1e3,v.value=new Date,o()):y.value!=="custom"?(C.value=y.value.start,v.value=y.value.end,o()):y.value=="custom"&&(w.value=!0)});const ge=S=>{if(H.value)for(let O=0;O<H.value.length;O++){const I=H.value[O];I.value.id==S&&(y.value=I)}},ie=()=>{y.value=H.value[0]},x=S=>N.dispatch("fetchSeasons",S),o=()=>{w.value=!1;var S={start:gt.GetMoment(C.value).unix(),end:gt.GetMoment(v.value).unix()};y.value.value&&(S.season=y.value.value),u("update:modelValue",S)};return sa(()=>{p.value?(i.value&&ge(i.value),ie()):x()}),(S,O)=>p.value?(da(),ca("div",{key:0,class:ha([{bigHeigth:y.value=="custom"},"flex justify-center"])},[ae("div",null,[ae("div",ja,[L(fa,{dark:"",id:"periodeSelector",modelValue:y.value,"onUpdate:modelValue":O[0]||(O[0]=I=>y.value=I),"float-label":"Periode",options:H.value,"hide-bottom-space":"",borderless:"",filled:va(b)},null,8,["modelValue","options","filled"])]),L(jt,{"no-parent-event":"",modelValue:w.value,"onUpdate:modelValue":O[8]||(O[8]=I=>w.value=I)},{default:G(()=>[ae("div",Ta,[ae("div",null,[$a,L(yt,{filled:"",style:{width:"280px"},dark:"",modelValue:C.value,"onUpdate:modelValue":O[3]||(O[3]=I=>C.value=I)},{prepend:G(()=>[L(We,{name:"event",class:"cursor-pointer"},{default:G(()=>[L(et,{"transition-show":"scale","transition-hide":"scale"},{default:G(()=>[L(kt,{modelValue:C.value,"onUpdate:modelValue":O[1]||(O[1]=I=>C.value=I),mask:"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1})]),_:1})]),append:G(()=>[L(We,{name:"access_time",class:"cursor-pointer"},{default:G(()=>[L(et,{"transition-show":"scale","transition-hide":"scale"},{default:G(()=>[L(Yt,{modelValue:C.value,"onUpdate:modelValue":O[2]||(O[2]=I=>C.value=I),mask:"YYYY-MM-DD HH:mm",format24h:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Aa,ae("div",null,[Fa,L(yt,{style:{width:"280px"},dark:"",filled:"",modelValue:v.value,"onUpdate:modelValue":O[6]||(O[6]=I=>v.value=I)},{prepend:G(()=>[L(We,{name:"event",class:"cursor-pointer"},{default:G(()=>[L(et,{"transition-show":"scale","transition-hide":"scale"},{default:G(()=>[L(kt,{modelValue:v.value,"onUpdate:modelValue":O[4]||(O[4]=I=>v.value=I),mask:"YYYY-MM-DD HH:mm"},null,8,["modelValue"])]),_:1})]),_:1})]),append:G(()=>[L(We,{name:"access_time",class:"cursor-pointer"},{default:G(()=>[L(et,{"transition-show":"scale","transition-hide":"scale"},{default:G(()=>[L(Yt,{modelValue:v.value,"onUpdate:modelValue":O[5]||(O[5]=I=>v.value=I),mask:"YYYY-MM-DD HH:mm",format24h:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Ba,L(ma,{color:"orange",inset:""}),Pa,L(ue,{color:"orange","text-color":"grey-9",onClick:O[7]||(O[7]=I=>o()),label:"Apply",class:"float-right"}),Na,Ea])]),_:1},8,["modelValue"])])],2)):ga("",!0)}});var Ua=ya(Qa,[["__scopeId","data-v-c88baaaa"]]);export{Ua as P};
