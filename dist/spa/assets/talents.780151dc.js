import{d as w,u as T,c as g,B as Q,h as x,n as I,q as t,p as e,Q as b,m as o,l as i,t as d,j as l,af as y,ae as $,r as C,T as k,a as B,i as S}from"./index.326ea565.js";import{Q as V}from"./QInput.873a83cc.js";import{Q as U}from"./QTable.dabdb8d3.js";import{a as c,Q as q}from"./QTr.e1e722a0.js";import{_ as j}from"./lodash.ab04621b.js";import"./QMarkupTable.533909ff.js";import"./QCheckbox.231b7602.js";const z={class:"flex align-content-center gap-5"},D={class:"flex align-content-center gap-5"},N=w({__name:"TalentRow",props:{data:{type:Object,required:!0}},setup(p){const f=p,r=j.capitalize,a=T().state.data,_=g(()=>a.Classes),v=g(()=>_.value.find(h=>h.id===n.value.row.classId)),m=g(()=>a.Specs),s=g(()=>m.value.find(h=>h.id===n.value.row.specId)),{data:n}=Q(f);return(h,G)=>(x(),I(q,null,{default:t(()=>[e(c,{key:"icon"},{default:t(()=>[e(b,{src:o(n).row.iconUrl,width:"35px",height:"35px"},null,8,["src"])]),_:1}),e(c,{key:"name"},{default:t(()=>[i(d(o(n).row.name),1)]),_:1}),e(c,{key:"spec"},{default:t(()=>[l("div",z,[e(b,{src:s.value.icon_url,width:"30px",height:"30px"},null,8,["src"]),e(y,{spec:s.value.id},{default:t(()=>[i(d(o(r)(s.value.name)),1)]),_:1},8,["spec"])])]),_:1}),e(c,{key:"class"},{default:t(()=>[l("div",D,[e(b,{src:v.value.icon_url,width:"30px",height:"30px"},null,8,["src"]),e(y,{spec:s.value.id},{default:t(()=>[i(d(o(r)(v.value.name)),1)]),_:1},8,["spec"])])]),_:1}),e(c,{key:"description"},{default:t(()=>[i(" hover me "),e($,null,{default:t(()=>[i(d(o(n).row.description),1)]),_:1})]),_:1}),e(c,{key:"count",class:"text-right"},{default:t(()=>[i(d(o(n).row.usersCount),1)]),_:1})]),_:1}))}}),P={class:"full-width row flex-center text-accent q-gutter-sm"},R=w({__name:"TalentTable",props:{items:{type:Array,required:!0}},setup(p){const f=p,r=[{name:"icon",headerStyle:"width: 0px",align:"left",label:"",field:"iconUrl",sortable:!1},{name:"name",align:"left",label:"Item",field:"name",sortable:!0},{name:"spec",align:"left",label:"Spec",field:"specId",sortable:!0},{name:"class",align:"left",label:"Class",field:"classId",sortable:!0},{name:"description",align:"left",label:"Description",field:"description",sortable:!1},{name:"count",align:"right",label:"Users",field:"usersCount",sortable:!0}],u={sortBy:"usersCount",descending:!0,rowsPerPage:20},a=C(""),{items:_}=Q(f);return(v,m)=>(x(),I(U,{dark:"",rows:o(_),columns:r,pagination:u,filter:a.value,"no-data-label":"I didn't find anything for you","no-results-label":"The filter didn't uncover any results"},{body:t(s=>[e(N,{data:s},null,8,["data"])]),"top-right":t(()=>[e(V,{dark:"",dense:"",filled:"",debounce:"300",modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=s=>a.value=s),placeholder:"Search"},{append:t(()=>[e(k,{name:"search"})]),_:1},8,["modelValue"])]),"no-data":t(({icon:s,message:n})=>[l("div",P,[e(k,{size:"2em",name:"sentiment_dissatisfied"}),l("span",null," Well this is sad... "+d(n),1)])]),_:1},8,["rows","filter"]))}}),W=l("h2",null,"Talent usage",-1),A=l("div",null,"(Data is not limited to keystone runs)",-1),E=l("div",null,"(We also just fetch details on lookup, so data is a bit outdated )",-1),O=l("div",null,"(This will be changed later to fetch on keystone done)",-1),F=l("br",null,null,-1),Z=w({__name:"talents",setup(p){const r=T().state.data;var u=C([]);return B.get(`${r.apiUrl}/talents`).then(a=>{u.value=a.data}),(a,_)=>(x(),S("div",null,[W,A,E,O,F,e(R,{items:o(u)},null,8,["items"])]))}});export{Z as default};
